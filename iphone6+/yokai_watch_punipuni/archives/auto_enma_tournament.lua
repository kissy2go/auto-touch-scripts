--adaptResolution(1242, 2208);
--adaptOrientation(ORIENTATION_TYPE.PORTRAIT);

puni = require 'puni'

local tournament = {}

function tournament.entry()
  puni.findTap({{4438783,0,0}, {10608127,-34,-9}, {8507647,-46,-10}, {106751,-41,-1}, {2302755,2,11}, {10083071,3,58}, {2532809,-16,73}, {2532809,8,78}, {14086399,-8,50}, {2532809,-17,161}, {2532809,6,166}, {14086399,-9,137}, {10083071,12,147}}, 0, nil);
end

function tournament.entryBattle()
  puni.findTap({{2302755,0,0}, {2302755,14,15}, {2302755,-8,47}, {16701008,13,64}, {2631461,32,42}, {16706201,37,9}, {2302755,61,5}, {5263183,67,23}, {4934218,90,15}, {16775908,96,-6}, {13420476,87,43}, {16772263,123,49}, {2302755,135,10}, {16699440,100,64}, {16701008,47,69}}, 0, nil);
end

function tournament.findStage()
  puni.findTap({{3853823,0,0}, {4438783,3,33}, {4147261,-33,66}, {11429693,36,77}, {6713410,36,148}, {6713410,-61,127}, {10083071,1,101}, {6713410,-177,46}, {14012738,-118,101}, {14012738,125,101}, {6713410,145,48}, {16251092,88,110}}, 0, nil);
end

function tournament.confirmTreasure()
  puni.findTap({{2302755,0,0}, {2302755,0,20}, {2302755,-17,44}, {11572982,16,70}, {13351927,34,35}, {12823804,39,12}, {13746169,77,34}, {13026504,82,5}, {15788284,111,1}, {5262170,130,33}, {13153786,74,59}, {2302755,130,14}, {11506933,102,55}}, 0, nil);

  puni.findTap({{14339323,0,0}, {2433831,-26,40}, {11643077,-16,63}, {12955643,16,45}, {15656700,44,17}, {14276571,58,29}, {2302755,67,61}, {14339323,117,3}, {2302755,123,31}, {11572726,91,83}, {11572982,159,59}}, 0, nil);
end

function tournament.talkWithEnma()
  -- puni.findStage(
  --   findColors({{16642459,0,0}, {16642459,67,-75}, {13002323,77,49}, {13002323,67,127}, {13002323,110,135}, {1576711,145,81}, {16768769,52,100}, {14512733,106,152}, {13002323,94,120}, {16642459,163,-40}, {13002323,61,42}, {13002323,99,104}}, 0, nil)
  -- )
  --
  -- puni.findStage(
  --   findColors({{2302755,0,0}, {2368548,-21,22}, {2302755,5,43}, {2302755,26,18}, {2302755,44,5}, {3026476,49,39}, {2500133,66,7}, {2302755,77,46}, {16766803,29,83}, {16700752,-47,55}, {16775130,-26,25}, {16772518,24,-17}, {16771476,91,17}, {16768628,100,34}, {16701007,64,66}, {16701007,14,64}}, 0, nil)
  -- )
  puni.findTap({{16766566,0,0}, {16766823,6,5}, {16766307,9,-2}, {16569711,16,0}, {16636013,13,3}, {16702593,8,9}}, 0, nil);

  puni.findTap({{2302755,0,0}, {2368548,-21,22}, {2302755,5,43}, {2302755,26,18}, {2302755,44,5}, {3026476,49,39}, {2500133,66,7}, {2302755,77,46}, {16766803,29,83}, {16700752,-47,55}, {16775130,-26,25}, {16772518,24,-17}, {16771476,91,17}, {16768628,100,34}, {16701007,64,66}, {16701007,14,64}}, 0, nil);

  puni.findTap({{16706195,0,0}, {16700496,-10,28}, {2302755,23,16}, {2302755,47,-8}, {16775915,40,3}, {5789005,60,14}, {2302755,47,34}, {16704638,74,17}, {16769130,102,-24}, {16764722,101,44}, {2302755,107,25}, {4868424,93,5}, {2434341,135,0}, {16705937,114,0}}, 0, nil);

  puni.findTap({{13878010,0,0}, {11572982,0,29}, {2302755,23,8}, {13878010,43,0}, {14734843,53,15}, {13746170,80,-13}, {11507190,77,47}, {2368293,93,26}, {13087482,107,0}, {11506679,121,40}, {12691962,151,19}}, 0, nil);
end

local KILLER_MOVE_ONLY_IN_FEVER = true

puni.killerMove(KILLER_MOVE_ONLY_IN_FEVER)
while puni.inBattle() do
  puni.battleWithSuri()
  puni.killerMove(KILLER_MOVE_ONLY_IN_FEVER)
  puni.battleWithSuri()
  puni.killerMove(KILLER_MOVE_ONLY_IN_FEVER)
end

puni.noContinue()

puni.win()
-- puni.finish()

tournament.confirmTreasure()
tournament.talkWithEnma()

tournament.entry()

tournament.entryBattle()
--tournament.findStage()

puni.enterBattle()
